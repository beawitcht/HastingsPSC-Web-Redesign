document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("add-block-btn"),t=document.getElementById("blocks-container"),n=document.getElementById("block-template");let o=0;t.querySelector(".block-type").addEventListener("change",(function(){c(t)}));const l=document.querySelectorAll(".article-block");function c(e){const t=e.querySelector(".block-type"),n=e.querySelector(".content-label"),o=e.querySelector(".image-url-label"),l=e.querySelector(".block-image-url");if(!t)return;const c=t.value;"image"===c?(n.textContent="Alt Text",o&&o.classList.remove("no-display"),l&&l.classList.remove("no-display")):"figure"===c?(n.textContent="Caption",o&&o.classList.remove("no-display"),l&&l.classList.remove("no-display")):(n.textContent="Content",o&&o.classList.add("no-display"),l&&l.classList.add("no-display"))}l.length&&(o=l.length),e.addEventListener("click",(function(e){e.preventDefault();const l=n.cloneNode(!0);l.classList.remove("no-display");const s=l.innerHTML.replace(/__INDEX__/g,o);l.innerHTML=s,l.id=`block-${o}`;l.querySelector(".block-type").addEventListener("change",(function(){c(l)})),t.appendChild(l),o++}))}));